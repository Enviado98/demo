<!DOCTYPE html>
<html lang="es" class="no-js">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>INK STUDIO | Arte Permanente</title>
<meta name="description" content="Estudio de tatuajes premium. Artistas expertos, higiene clínica y diseños personalizados.">

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- GSAP & Lenis (El motor de las animaciones profesionales) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script src="https://unpkg.com/@studio-freight/lenis@1.0.29/dist/lenis.min.js"></script>

<!-- Fuentes -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Syne:wght@400;700;800&display=swap" rel="stylesheet">

<!-- Iconos -->
<script src="https://unpkg.com/@phosphor-icons/web"></script>

<script>
  tailwind.config = {
    theme: {
      extend: {
        fontFamily: {
          sans: ['Space Grotesk', 'sans-serif'],
          display: ['Syne', 'sans-serif'],
        },
        colors: {
          'void': '#050505',      /* Negro profundo */
          'card': '#121212',      /* Gris muy oscuro */
          'border': '#262626',    /* Bordes sutiles */
          'accent': '#E1E1E1',    /* Blanco hueso */
          'muted': '#888888',     /* Texto secundario */
          'red': '#FF3333',       /* Acento de error/importante */
        },
        backgroundImage: {
            'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
        }
      }
    }
  }
</script>

<style>
  /* ── BASE & RESET ── */
  html.lenis, html.lenis body { height: auto; }
  .lenis.lenis-smooth { scroll-behavior: auto !important; }
  .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
  .lenis.lenis-stopped { overflow: hidden; }
  
  body { 
    background-color: #050505; 
    color: #E1E1E1; 
    overflow-x: hidden;
    cursor: default;
  }

  /* ── CANVAS BACKGROUND ── */
  #bg-canvas {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1; opacity: 0.4; pointer-events: none;
  }

  /* ── TYPOGRAPHY UTILS ── */
  .text-outline {
    -webkit-text-stroke: 1px rgba(255,255,255,0.15);
    color: transparent;
  }

  /* ── UI COMPONENTS ── */
  .glass-panel {
    background: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.08);
  }

  .interactive-card {
    background: #0f0f0f;
    border: 1px solid #1f1f1f;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .interactive-card:hover {
    border-color: #333;
    transform: translateY(-4px);
    background: #141414;
    box-shadow: 0 20px 40px -10px rgba(0,0,0,0.5);
  }
  
  /* Quiz Selection State */
  .interactive-card.selected {
    background: #E1E1E1;
    color: #050505;
    border-color: #E1E1E1;
  }
  .interactive-card.selected p, 
  .interactive-card.selected span,
  .interactive-card.selected i { color: #050505 !important; }

  /* ── BUTTONS ── */
  .btn-primary {
    background: #E1E1E1;
    color: #050505;
    font-weight: 600;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }
  .btn-primary:hover {
    transform: scale(1.02);
    box-shadow: 0 0 20px rgba(255,255,255,0.1);
  }

  .btn-outline {
    border: 1px solid rgba(255,255,255,0.2);
    color: #E1E1E1;
    transition: all 0.3s ease;
  }
  .btn-outline:hover {
    background: rgba(255,255,255,0.05);
    border-color: #E1E1E1;
  }

  /* ── UTILITIES ── */
  .hide-scrollbar::-webkit-scrollbar { display: none; }
  
  /* Progress Bar for Quiz */
  .progress-bar-bg { background: #1f1f1f; height: 2px; width: 100%; border-radius: 2px; }
  .progress-bar-fill { background: #E1E1E1; height: 100%; transition: width 0.6s cubic-bezier(0.22, 1, 0.36, 1); }

</style>
</head>
<body class="antialiased">

<!-- CANVAS FONDO (Partículas flotantes) -->
<canvas id="bg-canvas"></canvas>

<!-- ══════════════════════════════════════
     SPLASH SCREEN (Intro)
══════════════════════════════════════ -->
<div id="splash" class="fixed inset-0 z-[9999] bg-void flex flex-col items-center justify-center">
  <div class="overflow-hidden">
    <h1 class="font-display font-bold text-[15vw] leading-[0.8] text-accent tracking-tighter opacity-0 translate-y-20" id="splash-title">
      INK STUDIO
    </h1>
  </div>
  <div class="mt-6 overflow-hidden">
    <p class="font-sans text-sm tracking-[0.5em] text-muted uppercase opacity-0 translate-y-10" id="splash-sub">
      Arte Permanente
    </p>
  </div>
  
  <!-- Loading Line -->
  <div class="absolute bottom-0 left-0 w-full h-[1px] bg-white/10">
    <div id="splash-bar" class="h-full bg-white w-0"></div>
  </div>
</div>

<!-- ══════════════════════════════════════
     QUIZ (Onboarding)
══════════════════════════════════════ -->
<div id="quiz-container" class="fixed inset-0 z-[9000] bg-void/95 backdrop-blur-xl flex items-center justify-center p-6 opacity-0 pointer-events-none">
  
  <!-- Botón de Escape (UX Improvement) -->
  <button onclick="skipQuiz()" class="absolute top-6 right-6 text-xs text-muted hover:text-white uppercase tracking-widest border border-white/10 px-4 py-2 rounded-full transition-colors z-50">
    Saltar Intro ✕
  </button>

  <div class="w-full max-w-2xl relative">
    
    <!-- Step 1: Experiencia -->
    <div class="quiz-step relative" id="step-1">
      <div class="mb-8">
        <span class="text-xs font-mono text-muted">01 / 03</span>
        <div class="progress-bar-bg mt-2"><div class="progress-bar-fill w-[33%]"></div></div>
      </div>
      
      <h2 class="font-display text-4xl md:text-6xl font-bold mb-4">¿Tu primera vez?</h2>
      <p class="text-muted text-lg mb-10">Queremos asignarte el artista adecuado para tu experiencia.</p>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div onclick="selectOption(1, 'first', this)" class="interactive-card p-8 rounded-xl cursor-pointer group">
          <i class="ph-fill ph-sparkle text-3xl mb-4 text-muted group-hover:text-white transition-colors"></i>
          <h3 class="text-2xl font-bold mb-1">Sí, es el primero</h3>
          <p class="text-sm text-muted">Busco guía y paciencia.</p>
        </div>
        <div onclick="selectOption(1, 'experienced', this)" class="interactive-card p-8 rounded-xl cursor-pointer group">
          <i class="ph-fill ph-infinity text-3xl mb-4 text-muted group-hover:text-white transition-colors"></i>
          <h3 class="text-2xl font-bold mb-1">No, ya tengo tinta</h3>
          <p class="text-sm text-muted">Busco calidad y técnica.</p>
        </div>
      </div>
    </div>

    <!-- Step 2: Estilo -->
    <div class="quiz-step absolute top-0 left-0 w-full opacity-0 pointer-events-none translate-y-10" id="step-2">
      <div class="mb-8">
        <span class="text-xs font-mono text-muted">02 / 03</span>
        <div class="progress-bar-bg mt-2"><div class="progress-bar-fill w-[66%]"></div></div>
      </div>
      
      <h2 class="font-display text-4xl md:text-6xl font-bold mb-4">El Estilo</h2>
      <p class="text-muted text-lg mb-10">¿Qué estética visual te atrae más?</p>
      
      <div class="grid grid-cols-2 gap-4">
        <div onclick="selectOption(2, 'realism', this)" class="interactive-card p-6 rounded-xl cursor-pointer">
          <span class="text-lg font-bold">Realismo</span>
        </div>
        <div onclick="selectOption(2, 'blackwork', this)" class="interactive-card p-6 rounded-xl cursor-pointer">
          <span class="text-lg font-bold">Blackwork</span>
        </div>
        <div onclick="selectOption(2, 'fine-line', this)" class="interactive-card p-6 rounded-xl cursor-pointer">
          <span class="text-lg font-bold">Línea Fina</span>
        </div>
        <div onclick="selectOption(2, 'traditional', this)" class="interactive-card p-6 rounded-xl cursor-pointer">
          <span class="text-lg font-bold">Tradicional</span>
        </div>
      </div>
    </div>

    <!-- Step 3: Tamaño -->
    <div class="quiz-step absolute top-0 left-0 w-full opacity-0 pointer-events-none translate-y-10" id="step-3">
      <div class="mb-8">
        <span class="text-xs font-mono text-muted">03 / 03</span>
        <div class="progress-bar-bg mt-2"><div class="progress-bar-fill w-[100%]"></div></div>
      </div>
      
      <h2 class="font-display text-4xl md:text-6xl font-bold mb-4">Dimensiones</h2>
      <p class="text-muted text-lg mb-10">Esto define el tiempo de la sesión.</p>
      
      <div class="grid grid-cols-3 gap-4">
        <div onclick="finishQuiz('small')" class="interactive-card p-6 rounded-xl cursor-pointer text-center hover:bg-white hover:text-black">
          <div class="w-8 h-8 rounded-full border border-current mx-auto mb-4"></div>
          <span class="font-bold">Pequeño</span>
          <p class="text-[10px] opacity-60 mt-1">&lt; 5cm</p>
        </div>
        <div onclick="finishQuiz('medium')" class="interactive-card p-6 rounded-xl cursor-pointer text-center hover:bg-white hover:text-black">
          <div class="w-12 h-12 rounded-full border border-current mx-auto mb-4"></div>
          <span class="font-bold">Mediano</span>
          <p class="text-[10px] opacity-60 mt-1">5 - 15cm</p>
        </div>
        <div onclick="finishQuiz('large')" class="interactive-card p-6 rounded-xl cursor-pointer text-center hover:bg-white hover:text-black">
          <div class="w-16 h-16 rounded-full border border-current mx-auto mb-4"></div>
          <span class="font-bold">Grande</span>
          <p class="text-[10px] opacity-60 mt-1">&gt; 15cm</p>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- ══════════════════════════════════════
     MAIN WEBSITE
══════════════════════════════════════ -->
<div id="main-site" class="relative opacity-0">

  <!-- NAVBAR FLOTANTE -->
  <nav class="fixed top-0 w-full z-40 px-6 py-6 flex justify-between items-center mix-blend-difference">
    <a href="#" class="font-display font-bold text-xl tracking-tighter">INK STUDIO.</a>
    
    <div class="hidden md:flex gap-8 text-sm font-medium tracking-wide">
      <a href="#gallery" class="hover:text-muted transition-colors">Galería</a>
      <a href="#process" class="hover:text-muted transition-colors">Proceso</a>
      <a href="#faq" class="hover:text-muted transition-colors">FAQ</a>
    </div>

    <a href="#contact" class="px-5 py-2 border border-white rounded-full text-xs uppercase tracking-widest hover:bg-white hover:text-black transition-all font-bold">
      Reservar
    </a>
  </nav>

  <!-- HERO SECTION -->
  <section class="relative min-h-screen flex items-center px-6 md:px-20 pt-20 overflow-hidden">
    <!-- Texto Grande de Fondo -->
    <div class="absolute right-[-10%] top-[20%] text-[25vw] font-display font-black text-white/[0.02] leading-none select-none pointer-events-none animate-pulse">
      INK
    </div>

    <div class="max-w-4xl relative z-10">
      <div class="inline-flex items-center gap-2 border border-white/10 rounded-full px-3 py-1 mb-8 backdrop-blur-md">
        <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
        <span class="text-xs uppercase tracking-widest text-muted">Open for Booking</span>
      </div>

      <h1 class="font-display font-bold text-6xl md:text-9xl leading-[0.9] mb-8 split-text">
        TU CUERPO <br>
        <span class="text-outline">ES EL LIENZO.</span>
      </h1>

      <p class="text-lg md:text-xl text-muted max-w-lg mb-12 leading-relaxed">
        Especialistas en transformar historias en arte permanente. Higiene clínica, diseño de autor y precisión milimétrica.
      </p>

      <div class="flex gap-4">
        <a href="#contact" class="btn-primary px-8 py-4 rounded-lg text-sm uppercase tracking-wider flex items-center gap-2">
          Agendar Cita <i class="ph-bold ph-arrow-right"></i>
        </a>
        <a href="#gallery" class="btn-outline px-8 py-4 rounded-lg text-sm uppercase tracking-wider">
          Ver Trabajos
        </a>
      </div>
    </div>
  </section>

  <!-- GALERIA (Masonry) -->
  <section id="gallery" class="py-24 px-6 md:px-20 border-t border-white/5 bg-card/30">
    <div class="flex flex-col md:flex-row justify-between items-end mb-16">
      <div>
        <span class="text-xs font-mono text-muted mb-2 block">01 — PORTFOLIO</span>
        <h2 class="font-display text-4xl md:text-5xl font-bold">Obras Recientes</h2>
      </div>
      <a href="#" class="text-sm underline decoration-white/30 underline-offset-4 hover:text-muted mt-4 md:mt-0">Ver Instagram</a>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 h-[120vh]">
      <!-- Columna 1 -->
      <div class="flex flex-col gap-4 mt-12">
        <div class="h-[40%] bg-[#1a1a1a] rounded-xl overflow-hidden relative group interactive-card">
            <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 z-10">
                <span class="font-display text-2xl font-bold">Realismo</span>
            </div>
            <!-- Placeholder para imagen -->
            <div class="w-full h-full bg-gradient-to-br from-gray-800 to-black opacity-50"></div>
        </div>
        <div class="h-[60%] bg-[#1a1a1a] rounded-xl overflow-hidden relative group interactive-card">
            <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 z-10">
                <span class="font-display text-2xl font-bold">Retrato</span>
            </div>
             <div class="w-full h-full bg-gradient-to-tr from-gray-900 to-gray-800 opacity-50"></div>
        </div>
      </div>
      <!-- Columna 2 -->
      <div class="flex flex-col gap-4">
        <div class="h-[50%] bg-[#1a1a1a] rounded-xl overflow-hidden relative group interactive-card">
            <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 z-10">
                <span class="font-display text-2xl font-bold">Blackwork</span>
            </div>
             <div class="w-full h-full bg-gradient-to-b from-gray-800 to-black opacity-50"></div>
        </div>
        <div class="h-[50%] bg-[#1a1a1a] rounded-xl overflow-hidden relative group interactive-card">
            <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 z-10">
                <span class="font-display text-2xl font-bold">Geométrico</span>
            </div>
             <div class="w-full h-full bg-gradient-to-t from-gray-900 to-gray-800 opacity-50"></div>
        </div>
      </div>
      <!-- Columna 3 -->
      <div class="flex flex-col gap-4 mt-24">
        <div class="h-[60%] bg-[#1a1a1a] rounded-xl overflow-hidden relative group interactive-card">
            <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 z-10">
                <span class="font-display text-2xl font-bold">Japonés</span>
            </div>
             <div class="w-full h-full bg-gradient-to-bl from-gray-800 to-black opacity-50"></div>
        </div>
        <div class="h-[40%] bg-[#1a1a1a] rounded-xl overflow-hidden relative group interactive-card">
            <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 z-10">
                <span class="font-display text-2xl font-bold">Tradicional</span>
            </div>
             <div class="w-full h-full bg-gradient-to-r from-gray-900 to-gray-800 opacity-50"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- FEATURES / CUIDADOS -->
  <section class="py-24 px-6 md:px-20">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
      <div>
        <span class="text-xs font-mono text-muted mb-2 block">02 — SEGURIDAD</span>
        <h2 class="font-display text-4xl md:text-5xl font-bold mb-6">Estándares Clínicos.</h2>
        <p class="text-muted text-lg mb-8">
            No solo hacemos arte, cuidamos tu salud. Usamos materiales desechables de grado médico y tintas veganas certificadas.
        </p>
        
        <div class="space-y-6">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center border border-white/10">
                    <i class="ph-fill ph-shield-check text-xl"></i>
                </div>
                <div>
                    <h4 class="font-bold text-lg">Esterilización Hospitalaria</h4>
                    <p class="text-sm text-muted">Autoclave clase B y agujas de un solo uso.</p>
                </div>
            </div>
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center border border-white/10">
                    <i class="ph-fill ph-drop text-xl"></i>
                </div>
                <div>
                    <h4 class="font-bold text-lg">Tintas Orgánicas</h4>
                    <p class="text-sm text-muted">Pigmentos que perduran sin dañar tu piel.</p>
                </div>
            </div>
        </div>
      </div>

      <div class="relative">
          <!-- Card Flotante -->
          <div class="interactive-card p-8 rounded-2xl relative z-10 bg-card">
              <h3 class="font-display text-2xl font-bold mb-6">Cuidados Posteriores</h3>
              <ul class="space-y-4 text-sm text-muted">
                  <li class="flex justify-between border-b border-white/5 pb-2">
                      <span>Lavado</span>
                      <span class="text-white">Jabón neutro 3 veces al día</span>
                  </li>
                  <li class="flex justify-between border-b border-white/5 pb-2">
                      <span>Hidratación</span>
                      <span class="text-white">Crema específica (capa fina)</span>
                  </li>
                  <li class="flex justify-between border-b border-white/5 pb-2">
                      <span>Prohibido</span>
                      <span class="text-red">Sol directo y Piscinas</span>
                  </li>
                  <li class="flex justify-between pt-2">
                      <span>Tiempo de cura</span>
                      <span class="text-white">15 - 20 días</span>
                  </li>
              </ul>
          </div>
          <!-- Elemento decorativo detrás -->
          <div class="absolute top-10 -right-10 w-full h-full border border-white/10 rounded-2xl z-0"></div>
      </div>
    </div>
  </section>

  <!-- FAQ ACORDEÓN -->
  <section id="faq" class="py-24 px-6 md:px-20 border-t border-white/5">
    <div class="max-w-3xl mx-auto">
        <h2 class="font-display text-4xl font-bold mb-12 text-center">Preguntas Frecuentes</h2>
        
        <div class="space-y-4">
            <!-- FAQ ITEM 1 -->
            <div class="border border-white/10 rounded-lg overflow-hidden faq-item">
                <button class="w-full flex justify-between items-center p-6 text-left hover:bg-white/5 transition-colors" onclick="toggleFaq(this)">
                    <span class="font-bold text-lg">¿Duele mucho?</span>
                    <i class="ph-bold ph-plus transition-transform duration-300"></i>
                </button>
                <div class="faq-content h-0 overflow-hidden px-6 text-muted transition-all duration-300">
                    <p class="pb-6">Depende de la zona y tu umbral de dolor. La mayoría lo describe como un rasguño caliente constante. Es soportable y vale la pena.</p>
                </div>
            </div>

            <!-- FAQ ITEM 2 -->
            <div class="border border-white/10 rounded-lg overflow-hidden faq-item">
                <button class="w-full flex justify-between items-center p-6 text-left hover:bg-white/5 transition-colors" onclick="toggleFaq(this)">
                    <span class="font-bold text-lg">¿Cuál es el precio mínimo?</span>
                    <i class="ph-bold ph-plus transition-transform duration-300"></i>
                </button>
                <div class="faq-content h-0 overflow-hidden px-6 text-muted transition-all duration-300">
                    <p class="pb-6">El precio base es de $50 USD para cubrir material estéril. El costo final depende del tamaño, detalle y tiempo de sesión.</p>
                </div>
            </div>

            <!-- FAQ ITEM 3 -->
            <div class="border border-white/10 rounded-lg overflow-hidden faq-item">
                <button class="w-full flex justify-between items-center p-6 text-left hover:bg-white/5 transition-colors" onclick="toggleFaq(this)">
                    <span class="font-bold text-lg">¿Cómo agendo una cita?</span>
                    <i class="ph-bold ph-plus transition-transform duration-300"></i>
                </button>
                <div class="faq-content h-0 overflow-hidden px-6 text-muted transition-all duration-300">
                    <p class="pb-6">Escríbenos por WhatsApp con tu idea, tamaño aproximado y zona del cuerpo. Te daremos un presupuesto y fechas disponibles.</p>
                </div>
            </div>
        </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="contact" class="py-20 px-6 md:px-20 bg-card text-center">
    <h2 class="font-display text-[12vw] font-bold leading-none text-white/10 select-none">
        INK STUDIO
    </h2>
    
    <div class="flex flex-col md:flex-row justify-center gap-10 mt-12 text-sm uppercase tracking-widest font-bold">
        <a href="#" class="hover:text-white text-muted transition-colors">Instagram</a>
        <a href="#" class="hover:text-white text-muted transition-colors">WhatsApp</a>
        <a href="#" class="hover:text-white text-muted transition-colors">Ubicación</a>
    </div>

    <p class="mt-12 text-xs text-muted font-mono">© 2026 INK STUDIO. ALL RIGHTS RESERVED.</p>
  </footer>

</div>

<!-- ══════════════════════════════════════
     SCRIPTS & LOGIC
══════════════════════════════════════ -->
<script>
    // ─── 1. INITIALIZATION & SPLASH ───
    
    // Register GSAP Plugin
    gsap.registerPlugin(ScrollTrigger);

    // Initialize Lenis (Smooth Scroll)
    const lenis = new Lenis({
        duration: 1.2,
        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
        smooth: true,
    });
    function raf(time) {
        lenis.raf(time);
        requestAnimationFrame(raf);
    }
    requestAnimationFrame(raf);

    // Splash Logic
    window.addEventListener('load', () => {
        const tl = gsap.timeline();

        // Animate Splash
        tl.to("#splash-bar", { width: "100%", duration: 1.5, ease: "power2.inOut" })
          .to("#splash-title", { opacity: 1, y: 0, duration: 1, ease: "power3.out" }, "-=0.5")
          .to("#splash-sub", { opacity: 1, y: 0, duration: 1, ease: "power3.out" }, "-=0.8")
          .to("#splash", { 
              yPercent: -100, 
              duration: 1, 
              ease: "power4.inOut",
              onComplete: checkState // Decide where to go
          }, "+=0.5");
    });

    // ─── 2. STATE MANAGEMENT ───
    function checkState() {
        const hasVisited = localStorage.getItem('ink_visited');
        if (hasVisited) {
            showMainSite();
        } else {
            startQuiz();
        }
    }

    // ─── 3. QUIZ LOGIC ───
    let currentStep = 1;
    let preferences = {};

    function startQuiz() {
        gsap.to("#quiz-container", { autoAlpha: 1, pointerEvents: "all", duration: 0.5 });
    }

    function selectOption(step, value, element) {
        // Visual feedback
        const siblings = element.parentElement.children;
        for (let el of siblings) el.classList.remove('selected');
        element.classList.add('selected');
        
        preferences[`step${step}`] = value;
        
        // Wait a bit then move
        setTimeout(() => {
            if (step < 3) {
                goToStep(step + 1);
            }
        }, 400);
    }

    function goToStep(nextStepNum) {
        const currentEl = document.getElementById(`step-${currentStep}`);
        const nextEl = document.getElementById(`step-${nextStepNum}`);
        
        gsap.to(currentEl, { 
            opacity: 0, 
            y: -20, 
            pointerEvents: "none", 
            duration: 0.5 
        });
        
        gsap.to(nextEl, { 
            opacity: 1, 
            y: 0, 
            pointerEvents: "all", 
            duration: 0.5, 
            delay: 0.2 
        });
        
        currentStep = nextStepNum;
    }

    function finishQuiz(size) {
        preferences.step3 = size;
        localStorage.setItem('ink_visited', 'true');
        localStorage.setItem('ink_prefs', JSON.stringify(preferences));
        
        // Close quiz and show site
        gsap.to("#quiz-container", { 
            autoAlpha: 0, 
            scale: 0.95, 
            duration: 0.6, 
            ease: "power2.in",
            onComplete: showMainSite
        });
    }

    function skipQuiz() {
        localStorage.setItem('ink_visited', 'true'); // Don't show again
        gsap.to("#quiz-container", { 
            autoAlpha: 0, 
            duration: 0.5,
            onComplete: showMainSite
        });
    }

    // ─── 4. MAIN SITE REVEAL ───
    function showMainSite() {
        const site = document.getElementById('main-site');
        gsap.to(site, { opacity: 1, duration: 1 });
        
        // Trigger GSAP Animations for elements
        gsap.from(".split-text", {
            y: 50, opacity: 0, duration: 1, delay: 0.2, ease: "power3.out"
        });
    }

    // ─── 5. FAQ TOGGLE ───
    function toggleFaq(btn) {
        const content = btn.nextElementSibling;
        const icon = btn.querySelector('i');
        
        // Close all others (optional)
        document.querySelectorAll('.faq-content').forEach(el => {
            if (el !== content) {
                el.style.height = '0px';
                el.previousElementSibling.querySelector('i').style.transform = 'rotate(0deg)';
            }
        });

        if (content.style.height === '' || content.style.height === '0px') {
            content.style.height = content.scrollHeight + 'px';
            icon.style.transform = 'rotate(45deg)';
        } else {
            content.style.height = '0px';
            icon.style.transform = 'rotate(0deg)';
        }
    }

    // ─── 6. CANVAS BACKGROUND (PARTICLES) ───
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let width, height;
    let particles = [];

    function resize() {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
    }
    
    class Particle {
        constructor() {
            this.x = Math.random() * width;
            this.y = Math.random() * height;
            this.vx = (Math.random() - 0.5) * 0.5;
            this.vy = (Math.random() - 0.5) * 0.5;
            this.size = Math.random() * 2;
            this.alpha = Math.random() * 0.5;
        }
        update() {
            this.x += this.vx;
            this.y += this.vy;
            if (this.x < 0) this.x = width;
            if (this.x > width) this.x = 0;
            if (this.y < 0) this.y = height;
            if (this.y > height) this.y = 0;
        }
        draw() {
            ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha * 0.3})`; // Subtle white
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fill();
        }
    }

    function initCanvas() {
        resize();
        for (let i = 0; i < 50; i++) particles.push(new Particle());
        loop();
    }

    function loop() {
        ctx.clearRect(0, 0, width, height);
        particles.forEach(p => { p.update(); p.draw(); });
        requestAnimationFrame(loop);
    }

    window.addEventListener('resize', resize);
    initCanvas();

</script>
</body>
</html>
