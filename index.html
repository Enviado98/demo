<!DOCTYPE html>
<html lang="es" class="no-js">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>INK STUDIO | Arte Corporal</title>
<meta name="description" content="Estudio de tatuajes premium. Artistas expertos, higiene clínica y diseños personalizados.">

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- GSAP & Lenis -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script src="https://unpkg.com/@studio-freight/lenis@1.0.29/dist/lenis.min.js"></script>

<!-- Fuentes -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Syne:wght@400;700;800&display=swap" rel="stylesheet">

<!-- Iconos -->
<script src="https://unpkg.com/@phosphor-icons/web"></script>

<script>
  tailwind.config = {
    theme: {
      extend: {
        fontFamily: {
          sans: ['Space Grotesk', 'sans-serif'],
          display: ['Syne', 'sans-serif'],
        },
        colors: {
          'void': '#050505',
          'card': '#121212',
          'border': '#262626',
          'accent': '#E1E1E1',
          'muted': '#888888',
        }
      }
    }
  }
</script>

<style>
  /* ── BASE ── */
  html.lenis, html.lenis body { height: auto; }
  .lenis.lenis-smooth { scroll-behavior: auto !important; }
  .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
  .lenis.lenis-stopped { overflow: hidden; }
  
  body { 
    background-color: #050505; 
    color: #E1E1E1; 
    overflow-x: hidden;
    opacity: 1 !important; /* FORZAR VISIBILIDAD */
  }

  /* ── CANVAS FONDO ── */
  #bg-canvas {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1; opacity: 0.3; pointer-events: none;
  }

  /* ── COMPONENTES ── */
  .interactive-card {
    background: #0f0f0f;
    border: 1px solid #1f1f1f;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .interactive-card:hover {
    border-color: #333;
    transform: translateY(-4px);
    background: #141414;
    box-shadow: 0 20px 40px -10px rgba(0,0,0,0.5);
  }
  
  .btn-primary {
    background: #E1E1E1;
    color: #050505;
    font-weight: 600;
    transition: all 0.3s ease;
  }
  .btn-primary:hover { transform: scale(1.02); box-shadow: 0 0 20px rgba(255,255,255,0.15); }

  .text-outline { -webkit-text-stroke: 1px rgba(255,255,255,0.15); color: transparent; }

  /* ── ESTADOS DE VISIBILIDAD ── */
  .hidden-force { display: none !important; }
  .opacity-0-force { opacity: 0; pointer-events: none; }
  .opacity-100-force { opacity: 1; pointer-events: all; }
  
  /* Transiciones suaves manuales por si falla GSAP */
  #main-site, #quiz-container, #splash {
      transition: opacity 0.8s ease, transform 0.8s ease;
  }
</style>
</head>
<body class="antialiased">

<!-- CANVAS -->
<canvas id="bg-canvas"></canvas>

<!-- SPLASH SCREEN (INTRO) -->
<div id="splash" class="fixed inset-0 z-[9999] bg-void flex flex-col items-center justify-center">
  <h1 class="font-display font-bold text-[15vw] leading-[0.8] text-accent tracking-tighter" id="splash-title">
    INK STUDIO
  </h1>
  <p class="font-sans text-sm tracking-[0.5em] text-muted uppercase mt-4" id="splash-sub">
    Cargando Experiencia...
  </p>
  <div class="absolute bottom-0 left-0 w-full h-[2px] bg-white/10">
    <div id="splash-bar" class="h-full bg-white w-0 transition-all duration-[2000ms] ease-out"></div>
  </div>
</div>

<!-- QUIZ (PREGUNTAS) -->
<div id="quiz-container" class="fixed inset-0 z-[9000] bg-void/95 backdrop-blur-xl flex items-center justify-center p-6 opacity-0-force">
  <button onclick="skipQuiz()" class="absolute top-6 right-6 text-xs text-muted hover:text-white uppercase tracking-widest border border-white/10 px-4 py-2 rounded-full transition-colors z-50">
    Saltar ✕
  </button>

  <div class="w-full max-w-2xl relative">
    <!-- Paso 1 -->
    <div class="quiz-step" id="step-1">
      <div class="mb-6"><div class="w-full h-1 bg-[#1f1f1f] rounded"><div class="h-full bg-white w-1/3 transition-all"></div></div></div>
      <h2 class="font-display text-4xl md:text-5xl font-bold mb-4">¿Es tu primera vez?</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div onclick="nextStep(2)" class="interactive-card p-8 rounded-xl cursor-pointer group">
          <i class="ph-fill ph-sparkle text-3xl mb-4 text-muted group-hover:text-white"></i>
          <h3 class="text-2xl font-bold">Sí, primera tinta</h3>
        </div>
        <div onclick="nextStep(2)" class="interactive-card p-8 rounded-xl cursor-pointer group">
          <i class="ph-fill ph-infinity text-3xl mb-4 text-muted group-hover:text-white"></i>
          <h3 class="text-2xl font-bold">No, ya tengo</h3>
        </div>
      </div>
    </div>

    <!-- Paso 2 -->
    <div class="quiz-step hidden-force" id="step-2">
      <div class="mb-6"><div class="w-full h-1 bg-[#1f1f1f] rounded"><div class="h-full bg-white w-2/3 transition-all"></div></div></div>
      <h2 class="font-display text-4xl md:text-5xl font-bold mb-4">Estilo Preferido</h2>
      <div class="grid grid-cols-2 gap-4">
        <div onclick="nextStep(3)" class="interactive-card p-6 rounded-xl cursor-pointer text-center font-bold">Realismo</div>
        <div onclick="nextStep(3)" class="interactive-card p-6 rounded-xl cursor-pointer text-center font-bold">Blackwork</div>
        <div onclick="nextStep(3)" class="interactive-card p-6 rounded-xl cursor-pointer text-center font-bold">Línea Fina</div>
        <div onclick="nextStep(3)" class="interactive-card p-6 rounded-xl cursor-pointer text-center font-bold">Tradicional</div>
      </div>
    </div>

    <!-- Paso 3 -->
    <div class="quiz-step hidden-force" id="step-3">
      <div class="mb-6"><div class="w-full h-1 bg-[#1f1f1f] rounded"><div class="h-full bg-white w-full transition-all"></div></div></div>
      <h2 class="font-display text-4xl md:text-5xl font-bold mb-4">Tamaño</h2>
      <div class="grid grid-cols-3 gap-4">
        <div onclick="finishQuiz()" class="interactive-card p-6 rounded-xl cursor-pointer text-center hover:bg-white hover:text-black transition-colors">
          <div class="w-6 h-6 rounded-full border border-current mx-auto mb-2"></div>
          <span class="font-bold">Pequeño</span>
        </div>
        <div onclick="finishQuiz()" class="interactive-card p-6 rounded-xl cursor-pointer text-center hover:bg-white hover:text-black transition-colors">
          <div class="w-10 h-10 rounded-full border border-current mx-auto mb-2"></div>
          <span class="font-bold">Mediano</span>
        </div>
        <div onclick="finishQuiz()" class="interactive-card p-6 rounded-xl cursor-pointer text-center hover:bg-white hover:text-black transition-colors">
          <div class="w-14 h-14 rounded-full border border-current mx-auto mb-2"></div>
          <span class="font-bold">Grande</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MAIN SITE -->
<div id="main-site" class="relative opacity-0-force">
  
  <nav class="fixed top-0 w-full z-40 px-6 py-6 flex justify-between items-center mix-blend-difference">
    <a href="#" class="font-display font-bold text-xl tracking-tighter">INK STUDIO.</a>
    <a href="#contact" class="px-5 py-2 border border-white rounded-full text-xs uppercase hover:bg-white hover:text-black transition-all font-bold">Reservar</a>
  </nav>

  <section class="relative min-h-screen flex items-center px-6 md:px-20 pt-20">
    <div class="max-w-4xl relative z-10">
      <div class="inline-flex items-center gap-2 border border-white/10 rounded-full px-3 py-1 mb-8 backdrop-blur-md">
        <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
        <span class="text-xs uppercase tracking-widest text-muted">Agenda Abierta</span>
      </div>
      <h1 class="font-display font-bold text-6xl md:text-9xl leading-[0.9] mb-8">
        TU CUERPO <br> <span class="text-outline">ES EL LIENZO.</span>
      </h1>
      <p class="text-lg md:text-xl text-muted max-w-lg mb-12">
        Especialistas en transformar historias en arte permanente. Higiene clínica, diseño de autor y precisión milimétrica.
      </p>
      <div class="flex gap-4">
        <a href="#contact" class="btn-primary px-8 py-4 rounded-lg text-sm uppercase tracking-wider flex items-center gap-2">
          Agendar Cita <i class="ph-bold ph-arrow-right"></i>
        </a>
      </div>
    </div>
  </section>

  <!-- GALERIA -->
  <section id="gallery" class="py-24 px-6 md:px-20 border-t border-white/5 bg-card/30">
    <h2 class="font-display text-4xl md:text-5xl font-bold mb-12">Obras Recientes</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div class="h-96 bg-[#1a1a1a] rounded-xl relative group interactive-card overflow-hidden">
        <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 z-10"><span class="font-display text-2xl font-bold">Realismo</span></div>
        <div class="w-full h-full bg-gradient-to-br from-gray-800 to-black opacity-50"></div>
      </div>
      <div class="h-96 bg-[#1a1a1a] rounded-xl relative group interactive-card overflow-hidden md:mt-12">
        <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 z-10"><span class="font-display text-2xl font-bold">Blackwork</span></div>
        <div class="w-full h-full bg-gradient-to-br from-gray-800 to-black opacity-50"></div>
      </div>
      <div class="h-96 bg-[#1a1a1a] rounded-xl relative group interactive-card overflow-hidden">
        <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 z-10"><span class="font-display text-2xl font-bold">Japonés</span></div>
        <div class="w-full h-full bg-gradient-to-br from-gray-800 to-black opacity-50"></div>
      </div>
    </div>
  </section>

  <!-- INFO -->
  <section class="py-24 px-6 md:px-20">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
      <div>
        <h2 class="font-display text-4xl font-bold mb-6">Estándares Clínicos.</h2>
        <p class="text-muted text-lg mb-8">No solo hacemos arte, cuidamos tu salud. Materiales desechables de grado médico y tintas veganas.</p>
        <ul class="space-y-4">
            <li class="flex items-center gap-3"><i class="ph-fill ph-check-circle text-white"></i> Esterilización Hospitalaria</li>
            <li class="flex items-center gap-3"><i class="ph-fill ph-check-circle text-white"></i> Tintas Orgánicas</li>
        </ul>
      </div>
      <div class="interactive-card p-8 rounded-2xl bg-card">
          <h3 class="font-display text-2xl font-bold mb-6">Cuidados</h3>
          <ul class="space-y-4 text-sm text-muted">
              <li class="flex justify-between border-b border-white/5 pb-2"><span>Lavado</span> <span class="text-white">Jabón neutro x3</span></li>
              <li class="flex justify-between border-b border-white/5 pb-2"><span>Hidratación</span> <span class="text-white">Crema específica</span></li>
              <li class="flex justify-between pt-2"><span>Tiempo cura</span> <span class="text-white">15 - 20 días</span></li>
          </ul>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="contact" class="py-20 px-6 md:px-20 bg-card text-center border-t border-white/5">
    <h2 class="font-display text-[12vw] font-bold leading-none text-white/10 select-none">INK STUDIO</h2>
    <div class="flex justify-center gap-8 mt-12 text-sm uppercase tracking-widest font-bold">
        <a href="#" class="hover:text-white text-muted">Instagram</a>
        <a href="https://wa.me/5350172941" class="hover:text-white text-muted">WhatsApp</a>
    </div>
    <p class="mt-12 text-xs text-muted">© 2026 INK STUDIO.</p>
  </footer>
</div>

<script>
    // SISTEMA DE SEGURIDAD (FAILSAFE)
    // Si algo falla, la web se muestra en 3 segundos sí o sí.
    setTimeout(() => {
        const splash = document.getElementById('splash');
        if (splash && splash.style.display !== 'none') {
            console.log("Failsafe trigger: Forzando apertura...");
            openSiteForce();
        }
    }, 3500);

    function openSiteForce() {
        document.getElementById('splash').style.display = 'none';
        document.getElementById('quiz-container').style.display = 'none';
        const main = document.getElementById('main-site');
        main.classList.remove('opacity-0-force');
        main.classList.add('opacity-100-force');
    }

    // LÓGICA PRINCIPAL
    document.addEventListener('DOMContentLoaded', () => {
        // Simular carga de barra
        const bar = document.getElementById('splash-bar');
        if(bar) bar.style.width = '100%';

        // Verificar localStorage con try-catch (por si está bloqueado)
        let visited = false;
        try {
            visited = localStorage.getItem('ink_visited') === 'true';
        } catch(e) { console.log('Storage access denied'); }

        setTimeout(() => {
            if (visited) {
                skipQuiz();
            } else {
                showQuiz();
            }
        }, 1500);

        initCanvas();
    });

    // NAVEGACIÓN DEL QUIZ
    function showQuiz() {
        const splash = document.getElementById('splash');
        const quiz = document.getElementById('quiz-container');
        
        splash.style.opacity = '0';
        setTimeout(() => splash.style.display = 'none', 800);

        quiz.classList.remove('opacity-0-force');
        quiz.classList.add('opacity-100-force');
    }

    function nextStep(step) {
        // Ocultar actual
        const current = document.querySelector('.quiz-step:not(.hidden-force)');
        if(current) current.classList.add('hidden-force');
        
        // Mostrar siguiente
        const next = document.getElementById('step-' + step);
        if(next) {
            next.classList.remove('hidden-force');
            // Pequeña animación CSS
            next.style.opacity = '0';
            next.style.transform = 'translateY(20px)';
            requestAnimationFrame(() => {
                next.style.transition = 'all 0.5s ease';
                next.style.opacity = '1';
                next.style.transform = 'translateY(0)';
            });
        }
    }

    function finishQuiz() {
        try { localStorage.setItem('ink_visited', 'true'); } catch(e){}
        skipQuiz();
    }

    function skipQuiz() {
        const splash = document.getElementById('splash');
        const quiz = document.getElementById('quiz-container');
        const main = document.getElementById('main-site');

        splash.style.opacity = '0';
        quiz.style.opacity = '0';
        
        setTimeout(() => {
            splash.style.display = 'none';
            quiz.style.display = 'none';
            main.classList.remove('opacity-0-force');
            main.classList.add('opacity-100-force');
            
            // Iniciar scroll suave si la librería cargó
            if (typeof Lenis !== 'undefined') {
                const lenis = new Lenis();
                function raf(time) {
                    lenis.raf(time);
                    requestAnimationFrame(raf);
                }
                requestAnimationFrame(raf);
            }
        }, 500);
    }

    // CANVAS DE FONDO (PARTÍCULAS)
    function initCanvas() {
        const canvas = document.getElementById('bg-canvas');
        if(!canvas) return;
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        
        class Particle {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = (Math.random() - 0.5) * 0.5;
                this.size = Math.random() * 2;
                this.alpha = Math.random() * 0.5;
            }
            update() {
                this.x += this.vx;
                this.y += this.vy;
                if (this.x < 0) this.x = width;
                if (this.x > width) this.x = 0;
                if (this.y < 0) this.y = height;
                if (this.y > height) this.y = 0;
            }
            draw() {
                ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha * 0.3})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        resize();
        for (let i = 0; i < 40; i++) particles.push(new Particle());
        
        function loop() {
            ctx.clearRect(0, 0, width, height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(loop);
        }
        loop();
        window.addEventListener('resize', resize);
    }
</script>
</body>
</html>
